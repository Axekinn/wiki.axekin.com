---
title: "Azaharのインストールと設定"
date: 2025-06-02
draft: false
categories: ["Citra"]
tags: ["Citra"]
author: "Axekin"
description: "ニンテンドー3DSエミュレータAzaharのインストール、設定、使用方法に関する詳細なチュートリアル"
series: ["エミュレーションガイド"]
toc: true
math: false
featured: false
weight: 20
aliases: 
  - /ja/citra-cheats-mods/
  - /ja/guides/citra-modding/
summary: "Citraエミュレータでチートコードやゲームの改造をインストールする方法を学びます。フォルダ構造とインストール手順を含む詳細なチュートリアル。"
cover: "covers/azahar.webp"
image: "covers/azahar.webp"
showtoc: true
tocopen: true
comments: true
searchHidden: false
---

## 🎮 Citraの紹介

**Citra**は、最も先進的なオープンソースのニンテンドー3DSエミュレータです。2013年から開発されており、PCで3DSゲームを大幅なグラフィック向上とほぼ完璧な互換性でプレイできます。Azaharはそのフォークです。

## 🔧 ステップ1：Citraのダウンロード

### オプション1：公式Azahar
```bash
# 公式サイト
https://github.com/azahar-emu/azahar/releases
```

1. **「Download for Windows」** をクリック
2. **`azahar-XXXX-rc1-windows-msvc-installer.exe`** をダウンロード
3. 専用フォルダ（例：`Documents\Azahar`またはCドライブ以外の別のドライブのルート）に **展開**

## ゲームのダウンロード

### ステップ1：ゲームライブラリへのアクセス

**[🎮 Axekin Games - Nintendo 3DS](https://www.axekin.com/games?platform=3ds)** にアクセスして、ニンテンドー3DSのゲームコレクションにアクセスします。

### ステップ2：ゲームのダウンロード

1. リストから目的のゲームを **検索**
2. ダウンロードボタンを **クリック**
3. ダウンロードが完了するのを **待つ**

### ステップ3：ファイルの展開

ダウンロードが完了したら、次のいずれかのソフトウェアでアーカイブを **展開** します。

| ソフトウェア | ダウンロードリンク | 互換性 |
|----------|---------------|---------------|
| **7-Zip** | [7-Zipをダウンロード](https://www.7-zip.org/) | Windows/Linux |
| **WinRAR** | [WinRARをダウンロード](https://www.win-rar.com/) | Windows |

> **💡 ヒント**：7-Zipは無料でオープンソースですが、WinRARは試用期間後にライセンスが必要です。

**結果**：3DSで使用できるゲームファイルが手に入ります！ 🎯

## 📁 ステップ2：フォルダ構造

ファイルを整理するために、このフォルダ構造を作成します。

ライブラリを最適に整理するために、推奨されるツリー構造は次のとおりです。

````
3DSゲーム/
├── どうぶつの森 ハッピーホームデザイナー/
│   ├── BASE/                # 🎮 ベースゲーム（メインファイル）
│   ├── UPDATE/              # 🔄 ゲームアップデート（推奨）
│   └── DLC/                 # 📦 ダウンロードコンテンツ（オプション）
├── デッド オア アライブ ディメンションズ/
│   ├── BASE/                # 🎮 ベースゲーム
│   ├── UPDATE/              # 🔄 ゲームアップデート
│   └── DLC/                 # 📦 追加DLC
├── ベン10 ギャラクティックレーシング/
│   ├── BASE/
│   ├── UPDATE/
│   └── DLC/
└── キャプテン・アメリカ スーパーソルジャー/
    ├── BASE/
    └── UPDATE/              # （このゲームにはDLCがありません）
````


### コンテンツの種類


- **BASE** 📁：ダウンロードしたメインゲームファイル
- **UPDATE** 📁：アップデートとパッチ（推奨）
- **DLC** 📁：追加の有料コンテンツ（オプションですが推奨）


✅ **自動検出**：ゲームはエミュレータに自動的に追加されます  
✅ **簡素化された管理**：各ROMを手動で追加する必要はありません  
✅ **明確な整理**：ゲームごとにどのコンテンツを持っているかが簡単にわかります  
✅ **簡単なメンテナンス**：コンテンツの追加/削除が簡単です

> **📝 重要事項**：ゲームにアップデートやDLCがない場合は、これらのフォルダを作成する必要はありません。所有しているコンテンツのフォルダのみを作成してください。

### 結果

この構造が整うと、エミュレータは「3DSゲーム」フォルダ内のすべてのゲームを自動的に検出し、ライブラリにきれいに表示します！ 🎯

## 💡 ポータブル設定（推奨）


**最初の起動前**に、Azaharのインストールルートに`user`という名前のフォルダを作成します。これにより、インストールが完全にポータブルになります。

### ポータブルモードの利点

| 項目 | 通常モード | ポータブルモード |
|--------|-------------|---------------|
| **設定** | システムに保存 | フォルダ内に保存 |
| **セーブデータ** | コンピュータ全体に分散 | 1つのフォルダに集中 |
| **ポータビリティ** | ❌ システムに依存 | ✅ 簡単に移動可能 |
| **バックアップ** | 見つけにくい | バックアップが簡単 |

### ポータブルフォルダ作成後の構造

```
📁 Azahar/
├── 🎮 Azahar.exe
├── 📁 user/              # ← このフォルダを作成！
│   ├── 📁 bis/
│   ├── 📁 games/
│   ├── 📁 profiles/
│   └── 📁 system/
└── 📄 その他のファイル...
```


**すべてのデータ**（設定、セーブデータ、プロファイル）は`user`フォルダ内に保存され、管理とバックアップがはるかに簡単になります！

### 作成手順

1. Azaharのインストールフォルダに移動します
2. `user`という名前の新しいフォルダを正確に作成します
3. Azaharを起動すると、自動的にポータブルモードが検出されます

> **📝 注意**：効果を発揮させるには、**最初の起動前**に行う必要があります！

## ⚙️ ステップ3：インストールと初回起動

### Windowsの前提条件

### 初回起動
1. `azahar.exe`を実行します
2. ゲームフォルダを設定します（メニューをダブルクリックし、「3DSゲーム」フォルダを追加します）

## ⚙️ ステップ4：最適な設定

### 一般設定
```
エミュレーション → 設定 → 一般
```
- **エミュレーション実行中に終了を確認**：✅ 有効
- **バックグラウンド時にエミュレーションを一時停止**：✅ 有効（オプション）
- **Discord Presenceを有効にする**：✅ 有効（オプション）

### システム設定
```
エミュレーション → 設定 → システム
```
- **地域**：ヨーロッパ（またはお住まいの地域）
- **言語**：お使いの言語
- **コンソールID**：ランダム（自動生成）
- **New 3DSを有効にする**：✅ 有効（パフォーマンス向上のため）

### 推奨グラフィック設定

#### グラフィックスタブ
```
グラフィックス → 一般
- 内部解像度：2xネイティブ（400x480）以上。高い値はGPU使用率を増加させます。
- 線形フィルタリングを有効にする：✅ 有効
→ 一般
```

#### レイアウトタブ

```
グラフィックス → レイアウト
```


このセクションでは、視覚的な好みやハードウェアに応じて、3DSの2つの画面の表示をカスタマイズできます。

### 画面レイアウト

**プリセットオプション：**

| モード | 説明 | 推奨 |
|------|-------------|----------------|
| **デフォルト** | 標準のニンテンドーレイアウト | ✅ **初心者** |
| **シングルスクリーン** | アクティブな画面のみ表示 | ゲームプレイに集中 |
| **ワイド** | 幅全体に広がる | ワイドモニター |
| **並べて表示** | 水平画面 | **ゲームに推奨** |
| **別々のウィンドウ** | 2つの独立したウィンドウ | マルチモニター設定 |
| **スタック** | 画面を垂直に重ねる | 省スペース |
| **カスタムレイアウト** | 手動設定 | ⭐ **最も柔軟** |

### カスタムレイアウト設定


**上画面：**
- **位置 X/Y**：`0px, 0px`（左上隅）
- **幅/高さ**：`800px, 480px`（理想的な4:3比率）

**下画面：**
- **位置 X/Y**：`80px, 500px`（わずかに中央揃え）
- **幅/高さ**：`640px, 480px`（比例）

**下画面の不透明度**：`100%`（完全に表示）

### 表示設定

#### 一般オプション
```
画面 → 設定
```

**推奨される調整：**
- **画面を交換**：❌ 無効（DSロジックを維持）
- **画面を上向きに回転**：❌ 無効
- **画面の隙間**：好みに応じて`0.00`から`4.00`
- **メイン画面のスケール**：`4.00`（より大きなプライマリ画面）
- **セカンダリ画面の位置**：`右下`（タッチエリア）

#### シングルスクリーンモード


**使用例：**
- 1つのメイン画面のみを使用するゲーム
- レンダリングリソースの節約
- メインアクションに集中

**設定：**
- **ストレッチ**：☑️ 両方の画面でチェック
- **左/右マージン**：`0px`（フルスクリーン）
- **上/下マージン**：`0px`（最大使用）

> **💡 実用的なヒント**：ゲームに応じて異なるレイアウトを試してください。RPGはカスタムレイアウトの恩恵を受けることが多く、アクションゲームは並べて表示を好みます。

#### 詳細タブ
```
グラフィックス → 詳細
- グラフィックスAPI：OpenGL（推奨）またはVulkan
- ハードウェアレンダラを有効にする：✅ 有効
- ハードウェアシェーダを有効にする：✅ 有効
- 正確な乗算を有効にする：✅ 有効
- ディスクシェーダキャッシュを使用する：✅ 有効
- VSyncを有効にする：✅ 有効
```

### オーディオ設定
```
オーディオ
- エミュレーション：HLE
```

### コントロール設定

#### 自動検出方法
```
コントロール → 設定
1. 「自動設定」をクリック
2. コントローラーのボタンを押す
3. すべての入力をテストする
```

## ⚙️ ステップ 🌐 マルチプレイヤー（クイックセットアップ）

ローカル設定を編集することで、Citra/Azaharを外部のマルチプレイヤーサービスに接続できます。警告：設定ファイルを編集する前にCitra/Azaharを完全に閉じてください。そうしないと、変更が上書きされます。

1. 設定フォルダを開きます：

   - 標準のWindowsインストールの場合：`C:\\Users\\<ユーザー名>\\AppData\\Roaming\\citra\\config\\`
   - ポータブルインストールの場合：Azahar/Citraのルートにある`user`フォルダを開きます

2. `qt-config.ini`ファイルを（メモ帳などのテキストエディタで）編集し、次の2行を変更/追加します：

```
web_api_url\\default=false
web_api_url=http://88.198.47.46:5000/
```

3. エディタを保存して閉じ、Citra/Azaharを再起動します。

専用ルームをホストする（Windows `host.bat`の例）

専用のバッチファイルでホストしたい場合は、`host.bat`を作成または編集し、以下の例を貼り付けます。ルーム名とタイトルIDを変更できます。

```
citra-room ^
  --room-name "あなたのルーム名" ^
  --room-description "すべてのゲーム" ^
  --preferred-game "大乱闘スマッシュブラザーズ" ^
  --preferred-game-id "00040000000EDF00" ^
  --port 24872 ^
  --max_members 16 ^
  --token "aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa" ^
  --enable-citra-mods ^
  --web-api-url http://88.198.47.46:5000 ^
  --ban-list-file "ここに禁止リストファイルのパスを挿入"
pause
```

注意：

- 必要に応じて`--token`を実際のトークンに置き換えてください。
- `--preferred-game-id`はゲームのタイトルID（16進数16桁）に対応します。すべてのゲームを受け入れる場合は空のままにします。
- `--web-api-url`はAPIサーバーを指す必要があります（ここでは`http://88.198.47.46:5000`）。

これらの手順により、Citra/Azaharは指定されたマルチプレイヤーサービスを使用し、`host.bat`で自分のマシンからルームをホストできるようになります。

### サポートされているフォーマット
- **.CCI**：海賊版対策のため、Azaharで私のROMがサポートする唯一のフォーマット


## ❓ FAQ - よくある質問

### 一般的な質問

**Q：Azaharはすべての3DSゲームを実行できますか？**  
**A：** 約90％の3DSゲームは、良好から完璧に動作します。特定のタイトルについては、互換性データベースを確認してください。

**Q：立体視3Dは機能しますか？**  
**A：** はい、3D対応ディスプレイを使用するか、VR用の並べて表示モードを使用します。

**Q：実際の3DSのセーブデータを使用できますか？**  
**A：** はい — CheckpointまたはJKSMを使用すると、双方向でセーブデータを転送できます。

### 技術的な質問

**Q：一部のゲームが遅いのはなぜですか？**  
**A：** 3DSゲームは特定のハードウェアに最適化されています。エミュレーションは、特に複雑なタイトルでは要求が高くなります。

**Q：OpenGLとVulkanのどちらが良いですか？**  
**A：** OpenGLはより安定しており、互換性があります。Vulkanは最新のGPUでより良いパフォーマンスを提供する可能性があります。

**Q：New 3DSモードを有効にするとすべてが改善されますか？**  
**A：** 主にNew 3DSの機能をネイティブに使用するゲーム（ゼノブレイド、モンスターハンターなど）や特定の自作ソフトで改善されます。

### 一般的な問題

**Q：「システム地域を特定できませんでした」？**  
**A：** システムファイル（aes_keys.txt）をインストールし、設定で地域を設定してください。

**Q：HDテクスチャが表示されない？**  
**A：** 「カスタムテクスチャ」が有効になっており、タイトルIDがフォルダと一致していることを確認してください。

**Q：Androidでのパフォーマンスを向上させるにはどうすればよいですか？**  
**A：** Citra MMJを使用し、解像度を下げ、必要に応じてフレームスキップを有効にします。

高解像度で3DSゲームをお楽しみください！ 🎮✨
